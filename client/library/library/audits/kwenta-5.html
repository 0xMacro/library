<page
  clientName="Kwenta"
  reportDate="June 22, 2023"
  auditTitle="Kwenta A-5"
  auditVersion="1.0.0"
  repoUrl="https://github.com/Kwenta/smart-margin"
  repoCommitHash="c8c243770c9b7582700a1072646d4d28166bbecf"
  layout="/library/audits/_layout.html"
>

<content-for name="schedule">
  The security audit was performed by the Macro security team from June 19, 2023 to June 20, 2023.
</content-for>

<content-for name="spec">

  <ul>
    <li>Discussions on Discord with the {{page.clientName}} team.</li>
    <li><a href="https://kips-git-feat-cross-margin-and-advanced-orders-kwenta.vercel.app/kips/kip-18/">KIP-18</a></li>
    <li><a href="https://kips-git-feat-cross-margin-and-advanced-orders-kwenta.vercel.app/kips/kip-19/">KIP-19</a></li>
    <li><a href="//kips.kwenta.io/kips/kip-55">KIP-55</li>
  </ul>

  <h2 id="tmaar">Trust Model, Assumptions, and Accepted Risks (TMAAR)</h2>
    <template type="audit-markdown">
      - Kwenta accounts use an upgradable [beacon proxy](https://docs.openzeppelin.com/contracts/4.x/api/proxy#BeaconProxy), allowing the owner of the factory contract, a protocol DAO, to upgrade all accounts to a new implementation as well as pause account execution.
      It also has the ability to permanently turn off its ability to upgrade. 
      - Kwenta uses [Gelato](https://www.gelato.network/) to execute automated conditional orders on behalf of users. There is an assumption that Gelato’s executors will execute tasks set by users when the conditions are met, and only then. 
      Gelato’s executors currently require a 150k GEL token stake, KYB and DAO approval to join, and are subject to slashing penalties on their stake for acting maliciously.
    </template>
  
</content-for>


<content-for name="source-code">

  <p>Specifically, we audited the following contracts within this repository:</p>

  <template type="file-hashes">
    1109dc8872b6c463f205df29aa41aeb5322f69b803041479643b5307ee725498  src/Account.sol
    0cb8460251b262fdb87eda10f39f6e7b27dbc03f2be603393ee0c6aec4af108e  src/Events.sol
  </template>
</content-for>

</page>
