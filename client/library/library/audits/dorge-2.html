<page
  clientName="Dorge"
  reportDate="September 5th, 2023"
  auditTitle="Dorge A-2"
  auditVersion="1.0.0"
  repoUrl="https://github.com/thierbig/dorge"
  repoCommitHash="0f650b7f27e93bd97f1db644888360cacad1d65f"
  layout="/library/audits/_layout.html"
  passwordEncrypt="env:PAGE_PASS_DORGE_1"
>

<content-for name="schedule">
    The security audit was performed by the Macro security team on August 27, 2024.
</content-for>

<content-for name="spec">
  <ul>
    <li>Discussions on Discord with the {{page.clientName}} team.</li>
  </ul>

  <h2 id="tmaar">Trust Model, Assumptions, and Accepted Risks (TMAAR)</h2>
    <template type="audit-markdown">
    - The owner is a trusted actor and will not execute any malicious `_claim()` call through `ownerTestnetEmulate()` function. The improper execution of this function could override a previously fulfilled request or re-execute a previously finished race, potentially de-syncing the accumulated `pendingBets` and breaking the contractâ€™s token allocations.
    - Pyth Entropy contract will generate and provide a valid random number and execute the `_entropyCallback()` function once. The Entropy contract will handle replayability, clearing and removing each request once a successful call to the `_entropyCallback()` is made.
    </template>
</content-for>


<content-for name="repo-info">
  <ul>
    <li>
      <b>Repository:</b>
      <a href="{{page.repoUrl}}" target="_blank">
        {{page.repoUrl.split('/').slice(-1)[0]}}
      </a>
    </li>
    <li class="break-words break-all">
      <b>Commit Hash:</b>
      <code>{{page.repoCommitHash}}</code>
    </li>
  </ul>
</content-for>


<content-for name="source-code">

  <p>Specifically, we audited the following contract within this repository:</p>

  <template type="file-hashes">
    a49f379c16ca71d713709703c079f44030722e2c03c4489831829590c3199231  ./src/HorseBettingRandom.sol
  </template>


</content-for>

